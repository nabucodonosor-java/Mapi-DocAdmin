create table tb_especialidade (id int8 generated by default as identity, nome varchar(255), primary key (id));
create table tb_especializacao (id int8 generated by default as identity, nome varchar(255), primary key (id));
create table tb_medico (id int8 generated by default as identity, celular varchar(255), crm varchar(255), curriculo TEXT, data_nascimento TIMESTAMP WITHOUT TIME ZONE, email varchar(255), horario_atendimento TEXT, img_url TEXT, nome varchar(255), primary key (id));
create table tb_medico_especialidade (medico_id int8 not null, especialidade_id int8 not null, primary key (medico_id, especialidade_id));
create table tb_medico_especializacao (medico_id int8 not null, especializacao_id int8 not null, primary key (medico_id, especializacao_id));
create table tb_role (id int8 generated by default as identity, authority varchar(255), primary key (id));
create table tb_user (id int8 generated by default as identity, email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), primary key (id));
create table tb_user_role (user_id int8 not null, role_id int8 not null, primary key (user_id, role_id));
alter table if exists tb_user add constraint UK_4vih17mube9j7cqyjlfbcrk4m unique (email);
alter table if exists tb_medico_especialidade add constraint FKc89sx6jhju37lrksqc7aywu9w foreign key (especialidade_id) references tb_especialidade;
alter table if exists tb_medico_especialidade add constraint FKij7xa9txxbmmxcr416p9r6kc5 foreign key (medico_id) references tb_medico;
alter table if exists tb_medico_especializacao add constraint FKeic9iqkx8ibv3q5eagj7krg1a foreign key (especializacao_id) references tb_especializacao;
alter table if exists tb_medico_especializacao add constraint FK1ew5gpqsqyx2j7jdlci5eylx0 foreign key (medico_id) references tb_medico;
alter table if exists tb_user_role add constraint FKea2ootw6b6bb0xt3ptl28bymv foreign key (role_id) references tb_role;
alter table if exists tb_user_role add constraint FK7vn3h53d0tqdimm8cp45gc0kl foreign key (user_id) references tb_user;
